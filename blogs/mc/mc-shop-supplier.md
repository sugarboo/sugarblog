---
title: 苗圃端小程序 - 开发文档
date: '2022-07-28 18:00:00'
sidebar: 'auto'
categories:
 - mc
tags:
 - mc
publish: true
keys:
 - 'f896badeeb682becbc1afddf85559259'
---

> [苗圃端小程序-供应链开发PRD文档V2.0](https://docs.qq.com/doc/DYWlKQm9wbW51d2Js)

## 1. 登录 / 注册
### 1.1 使用手机号登录
- 微信手机号登录
- 短信验证码登录
### 1.2 隐私政策，用户服务协议，使用条款
- 需要同意上述协议方可登录
- 上述协议页面应在H5项目中写
### 1.3 非招商用户登录后跳转到欢迎入驻H5页面
### 1.4 原苗仓主APP的用户信息关联

## 2. 底部导航栏
### 2.1 TabBar
- 共4个Tab：`首页`、`管苗`、`订单`、`我的`

## 3. 首页
### 3.1 页面结构
- 企业用户信息：企业Logo、企业名称、企业认证状态、VIP等级
- 我的待办卡片：待接单、待起苗、待装车、待结算；点击跳转到订单Tab，筛选对应状态的订单
- 交易数据：今日订单量、本月订单量、今日订单金额、本月订单金额
- 宫格区图标：添加苗木、库存管理、苗圃设置、标准规则
- 我的苗圃基地：苗圃列表
### 3.2 新入驻的用户
- 首页各项数据均为0；我的苗圃基地提示创建苗圃
### 3.3 企业用户信息
- 企业认证状态标签：与苗仓主App的企业认证状态关联
- VIP等级标识：与苗仓主App的VIP等级关联
### 3.4 我的待办
- 待接单
- 待起苗
- 待装车
- 待结算
### 3.5 交易数据
- 点击交易数据区域，跳转到交易数据页
### 3.6 宫格区图标
- 添加苗木：首先判断当前企业用户是否存在苗圃。若不存在苗圃则弹窗提示：“您当前还没有苗圃基地，请先创建苗圃”；否则弹出选择苗圃对话框，选择苗圃后跳转到苗木编辑页进行添加苗木操作
- 库存管理：点击跳转到管苗Tab
- 苗圃设置：点击跳转到苗圃列表页
- 标准规则：跳转到标准规则H5
### 3.7 我的苗圃基地
- 显示苗圃卡片，包含字段：苗圃名称、苗圃面积、苗木品种、库存总量
- 点击苗圃卡片，跳转到管苗Tab，切换到对应苗圃的tab
- 若没有苗圃，显示一张苗圃卡片，字段值均为0。点击跳转到苗圃编辑页

## 4. 苗圃列表页
### 4.1 页面结构
- 苗圃列表
- 底部操作栏：`添加苗圃`按钮
### 4.2 排序规则
- 优先按照是否上传场地证明排序，其次按照创建时间正序排序
### 4.3 列表项的字段
- 苗圃名称
- 苗圃面积
- 所在地
- 详细地址
- 场地证明：若后台已上传土地合同，反显“已审核”；否则反显“待审核”
### 4.4 缺省状态
- 缺省图
- `创建苗圃`按钮，点击跳转到苗圃编辑页进行添加苗圃操作

## 5. 苗圃编辑页
### 5.1 页面结构
- 苗圃名称输入框
- 所在地选择框
- 苗圃定位选择框，点击跳转至地图选点组件
- 苗圃面积输入框
- 底部备注区域
- 底部操作栏：添加操作时，显示`确认`按钮；编辑操作时，显示`删除苗圃`和`确定`按钮
### 5.2 表单校验规则
- 苗圃名称：必填，禁止输入除括号以外的特殊符号，手机号码
- 所在地：必填
- 苗圃定位：非必填
- 苗圃面积：必填，最小值1亩，最大值10000亩
### 编辑苗圃操作
- 仅限未审核状态的苗圃可编辑
- 已审核状态苗圃不显示`编辑`和`删除`按钮。点击删除按钮时，弹窗Double Check，确认后提示操作成功，返回苗圃列表页

## 6. 苗圃添加成功页
### 6.1 页面结构
- 创建成功图标
- 创建成功提示文案
- 红字备注
- 按钮区域：`返回首页`按钮，`苗圃详情`按钮

## 7. 管苗
### 7.1 页面结构
- tab栏：苗圃列表
- 筛选区域：左边为`在售`、`已下架`筛选按钮；右边为`添加苗木`按钮
- 苗木列表
### 7.2 苗木列表
- 按照创建苗木时间或编辑苗木时间倒序排序
- 苗木卡片包含字段：正视图、苗木名称、在售库存、成长库存、销量、报价、容器类型、操作按钮区域（改报价、改库存、上架 / 下架、编辑）；点击正视图或苗木名称，跳转到苗木详情页
- 若当前苗圃存在多个规格的同种商品，在苗木卡片显示多规格标识；点击跳转到苗木多规格页
### 7.3 苗木缺省状态
- 缺省图标
- 提示文案：“你还没有创建苗木”
- `添加苗木`按钮：点击先判断是否有苗圃，若无苗圃则弹窗提示创建苗圃；否则跳转到苗圃编辑页进行添加苗圃操作
### 7.4 未审核状态的苗圃
- 缺省图标
- 提示文案：“该苗圃的场地证明待审核...”
### 7.5 改报价操作
- 弹出修改价格弹出层
- 价格最小值为0.1元
- 点击弹出层的`确定`按钮，提示修改价格成功，关闭弹出层
### 7.5 改库存操作
- 弹出修改库存弹出层
- 点击弹出层的`确定`按钮，提示修改库存成功，关闭弹出层
### 7.6 下架操作
- 底部弹出Double Check弹出层
- 弹出层底部按钮：`取消`按钮，`立即下架`按钮
- 点击`立即下架`按钮，Toast提示“商品下架成功”。关闭弹出层
### 7.7 上架操作
- 点击则立即上架，Toast提示“商品上架成功”
### 7.8 编辑操作
- 点击跳转到苗木编辑页。反显当前苗木数据，不允许修改苗木名称（SPU）和规格类型（SKU）。

## 8. 苗木编辑页
### 8.1 页面结构
- 苗木名称选择框：点击跳转到选择苗木品种（SPU）页。选择后反显苗木名称
- 规格类型选择框：点击跳转到选择规格参数（SKU）页。选择后反显对应商品规格卡片
- 报价输入框
- 可售库存输入框
- 添加（育苗中）成长库存按钮，点击后生成两个输入框：成长库存输入框、成长天数输入框；最多可添加3批成长库存
### 8.2 表单校验规则
- 苗木名称：必填，只能在SPU列表中选择
- 规格类型：必填，只能在SKU列表中选择
- 报价：必填，最小值0.10元；保留小数点后2位
- 可售库存：必填，最小值0，最大值50万
- 成长库存，选填（二者其一不为空则必填），最小值0，最大值50万
- 成熟天数：选填（二者其一不为空则必填），最小值1天，无最大值
### 8.3 成长库存规则
- 系统自动记录每一批成长库存的创建时间，自动计算剩余天数
- 成长库存按照成熟天数，自动转化为可售库存

## 9 选择苗木品种（SPU）页
### 9.1 页面结构
- 搜索框
- SPU列表索引栏
### 9.2 搜索规则
- 支持模糊搜索
- 支持别名搜索
- 支持首字母搜索
### 9.3 缺省状态
- 搜索栏下方提示文案：“没有相关搜索结果，您想要的品种还没录入系统”
### 录入苗木品种（SPU）
- 需要后台管理员在`后台 / 商品管理 / SKU管理`菜单中录入。

## 10. 选择规格参数（SKU）页
### 10.1 页面结构
- 标题栏：“请选择￥{苗木品种名称}的规格类型”（苗木品种名称高亮显示）
- SKU列表，列表项左侧显示勾选框
- 底部操作栏：`取消`按钮；`确认`按钮：点击`确认`返回苗木编辑页，反显选择的SKU卡片

## 11. 苗木添加成功页
### 11.1 页面结构
- 添加成功图标
- 添加成功文案
- 按钮区域：`继续添加`按钮，`我的苗木`按钮
### 11.2 继续添加按钮
- 跳转到新的苗木编辑页，进行添加苗木操作
- 触发一次性订阅通知提醒
### 11.3 我的苗木按钮
- 跳转到管苗Tab
- 触发一次性订阅通知提醒

## 12. 订单
### 12.1 页面结构
- 筛选订单状态的顶部TabBar：全部、待接单、待起苗、待装车、待结算
- 订单列表。列表项为订单卡片
### 12.2 加载规则
- 每次加载20条，直到加载完毕
- 加载完毕，底部提示文案：“- 到底了 -”
### 12.3 订单主状态
- 待接单：主操作按钮`立即接单`，次操作按钮`取消接单`
- 接单成功：主操作按钮`上传图片`
- 待起苗：主操作按钮`确认起苗`
- 待装车：主操作按钮`确认装车`
- 待结算：主操作按钮`上传发票` / `查看发票`
- 已完成：系统完成分账结算后自动流转。主操作按钮`上传发票` / `查看发票`
- 处理中：采购端提交了售后服务申请后自动流转
- 已取消：需反显取消原因
### 12.4 订单中间状态
- 待跟单复核：位于`接单成功`和`待起苗`状态之间，接单成功后，已上传图片，待跟单员复核时的中间状态
### 12.5 开票状态
- 待开票
- 已开票
### 12.6 缺省状态
- 缺省图标
- 提示文案：“暂无订单”

### 13. 订单卡片
- 下料单编号（订单号）：苗仓Logo+下料单#xxx
- 预计装车时间
- 订单主状态
- 订单商品列表：正视图、商品名、报价、容器类型、高度、冠幅
- 金额
- 操作按钮区域

## 14. 订单详情页
### 14.1 页面结构
- 订单主状态、接单剩余时间
- 主操作按钮
- 订单状态Timeline
- 预计装车时间
- 订单商品列表
- 订单信息：下料单号（可复制）、备注信息
- 订单跟踪的竖向Timeline
- 底部操作栏
### 14.2 立即接单操作
- 点击则立即接单，弹出提示：“接单成功，请在4小时内上传苗木实拍照片给跟单员复核”
- 点击则触发一次性订阅消息提醒
### 14.3 取消接单操作
- 点击弹出取消接单弹出层，选择不接单理由，选填备注，点击底部`确认不接单`按钮后Toast提示“订单已取消”。关闭弹出层
- 接单有效时间为60分钟，超时则自动取消
### 14.4 上传样品图片操作
- 点击跳转至上传图片页面
### 14.5 上传样品图片审核不通过时
- 订单跟踪的竖向Timeline中反显审核不通过原因
- 底部操作按钮：`重新上传图片`
### 14.6 起苗装车提醒
- 接单成功后，苗木和物流司机等待跟单系统推送装车通知
- 接收到装车提醒时，弹窗，操作按钮：`无法执行`，`确认执行`
- 点击`无法执行`按钮，弹出层：违约责任描述文案、备注选填输入框、底部`取消订单`按钮。
- 点击`确认执行`按钮，开始执行任务，开始起苗
### 14.7 确认起苗操作
- 点击`确认起苗`按钮，弹窗提示“恭喜完成起苗，请耐心等候物流司机抵达取苗点装车”
- 点击弹窗确认按钮，触发一次性订阅消息提醒
### 14.8 确认装车操作
- 点击`确认装车`按钮，弹窗提示“恭喜完成装车，待物流司机发车。请耐心等候跟单系统进行分账结算”
- 点击弹窗确认按钮，触发一次性订阅消息提醒


## 15. 上传照片页
### 15.1 页面结构
- 订单商品列表，每个商品都需要上传照片。最小值1张，最大值9张；每个商品均可选择上传视频，最多1个
- 备注选填输入框
- 底部操作栏：`取消`按钮，`提交`（`重新提交`）按钮
### 15.2 提交操作
- 点击`提交`按钮后，弹窗提示提交成功，点击确认按钮后触发一次性订阅消息提醒
### 15.3 重新提交操作

## 16. 上传发票页
### 16.1 页面结构
- “请上传发票”标题栏
- 上传发票要求备注
- 上传组件
- 底部操作栏：`取消`按钮，`确认上传`按钮
### 16.2 上传发票时限
- 订单完成的当月内需上传发票
### 16.3 已上传的发票支持预览操作

## 17. 我的
### 17.1 页面结构
- 用户信息：头像、用户名、手机号
- 收入金额卡片：累计总收入、累计订单量；点击跳转到交易明细页
- 我的银行卡按钮：点击跳转到我的银行卡页
- 供应商资质证明按钮：点击跳转到供应商资质证明页
- 关于我们按钮：点击跳转到平台介绍页（H5)
- 设置按钮：点击跳转到设置页
  在线客服按钮：点击调起微信原生客服聊天页面

## 18. 设置页
### 18.1 页面结构
- 个人资料按钮：点击跳转到个人资料编辑页
- 条款与规则：点击跳转到用户使用条款页（H5）
- 隐私政策：点击跳转到隐私政策页（H5）
- 关于：显示版本号（V1.0.0）
- 底部操作栏：`退出登录`按钮：Double Check，清除Token

## 19. 交易明细页
### 19.1 交易明细列表（历史交易记录列表）
- 列表项字段：金币图标、订单金额、订单时间、订单入账状态

## 20. 供应商资质证明页

## 21. 我的银行卡页
### 1.0场主端的原页面

## 22. 交易数据页
### 1.0场主端的原页面
