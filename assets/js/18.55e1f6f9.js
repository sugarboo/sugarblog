(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{425:function(s,a,e){"use strict";e.r(a);var t=e(2),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("node-sass 依赖包，常见于一些较老的前端项目中，在 Windows 下常常会出现安装失败的情况。解决这个问题的常见方法是安装指定版本的 Python 并为其配置环境变量。但是，其实还存在着一种不需要安装 Python 环境的更简单更优雅的解决方法。")]),s._v(" "),a("h2",{attrs:{id:"原因剖析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原因剖析"}},[s._v("#")]),s._v(" 原因剖析")]),s._v(" "),a("p",[s._v("npm 安装 node-sass 依赖时，需要从 github 的 node-sass repo 上下载 binding.node 这个二进制文件。由于国内网络环境的问题，这个下载时间可能会很长，甚至导致超时失败。这时就需要借助 node-gyp 来进行编译，此过程需要依赖 Python 环境。")]),s._v(" "),a("p",[s._v("因此，如果不想安装并配置 Python环境的话，可以自行在 node-sass 的 github repo 中下载所需的 binding.node 文件到本地目录，然后在安装 node-sass 时直接在这个本地目录下找到该文件，省去在安装过程中下载 binding.node 的步骤即可。具体步骤如下：")]),s._v(" "),a("h2",{attrs:{id:"解决方法-1-手动下载二进制文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法-1-手动下载二进制文件"}},[s._v("#")]),s._v(" 解决方法 1：手动下载二进制文件")]),s._v(" "),a("h3",{attrs:{id:"_1-下载node-sass安装所需的-node-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载node-sass安装所需的-node-文件"}},[s._v("#")]),s._v(" 1. 下载node-sass安装所需的 .node 文件")]),s._v(" "),a("p",[s._v("首先，需要在命令行运行以下命令，查看当前 node 环境的 process 相关版本号：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"[process.platform, process.arch, process.versions.modules].join('-')\"")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在 "),a("a",{attrs:{href:"https://github.com/sass/node-sass/releases",target:"_blank",rel:"noopener noreferrer"}},[s._v("Releases · sass/node-sass"),a("OutboundLink")],1),s._v(" 中找到对应版本的 binding.node 文件并下载到本地目录中（注意：文件目录路径中不要有空格或中文）。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgur.com/rwKREIR.png",alt:"pic"}})]),s._v(" "),a("h3",{attrs:{id:"_2-设置-sass-binary-path-环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置-sass-binary-path-环境变量"}},[s._v("#")]),s._v(" 2. 设置 "),a("code",[s._v("SASS_BINARY_PATH")]),s._v(" 环境变量")]),s._v(" "),a("p",[s._v("在命令行运行如下命令，将 binding.node 文件的本地存放路径，配置到 "),a("code",[s._v("SASS_BINARY_PATH")]),s._v(" 环境变量中。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Set-Variable "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Name")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SASS_BINARY_PATH"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Value")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:\\FED\\utils\\win32-x64-83_binding.node"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://imgur.com/rwKREIR.png",alt:"pic"}})]),s._v(" "),a("p",[s._v("执行完上述步骤，就大功告成了。回到需要安装 node-sass 依赖包的前端项目，就可以顺利完成安装依赖包的操作了。")]),s._v(" "),a("h2",{attrs:{id:"解决方法-2-配置-npm-二进制下载源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解决方法-2-配置-npm-二进制下载源"}},[s._v("#")]),s._v(" 解决方法 2：配置 npm 二进制下载源")]),s._v(" "),a("p",[s._v("在命令行运行以下命令，将 npm 二进制下载源修改为淘宝镜像源，即可避免"),a("strong",[s._v("网络")]),s._v("问题。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" sass-binary-site https://registry.npmmirror.com/node-sass\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("p",[s._v("参考资料："),a("a",{attrs:{href:"https://www.jb51.net/article/268608.htm",target:"_blank",rel:"noopener noreferrer"}},[s._v("node-sass安装失败解决方法总结(终有一款适合你)_node.js_脚本之家"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);